{"ast":null,"code":"import _toConsumableArray from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\sainw\\\\OneDrive\\\\Desktop\\\\completed Project march card o matic\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{useHistory,useParams}from\"react-router-dom\";import NavBar from\"../Layout/NavBar\";import{readDeck}from\"../utils/api\";import Card from\"../Cards/Card\";import NeedMoreCards from\"../Cards/NeedMoreCards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Study(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cards=_useState6[0],setCards=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),card=_useState8[0],setCard=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),nextIndex=_useState10[0],setNextIndex=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),flipped=_useState12[0],setFlipped=_useState12[1];var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();useEffect(function(){var abortCon=new AbortController();function getDeck(){return _getDeck.apply(this,arguments);}function _getDeck(){_getDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var gotDeck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!deckId){_context.next=9;break;}_context.next=4;return readDeck(deckId,abortCon.signal);case 4:gotDeck=_context.sent;setDeck(_objectSpread({},gotDeck));setCount(gotDeck.cards.length);setCards(_toConsumableArray(gotDeck.cards));setCard(_objectSpread({},gotDeck.cards[0]));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _getDeck.apply(this,arguments);}getDeck();return function(){return abortCon.abort();};},[deckId]);var reset=function reset(){setCard(cards[0]);setNextIndex(1);handleFlip();};var handleFlip=function handleFlip(){setFlipped(!flipped);};var handleNext=function handleNext(){if(nextIndex<cards.length){setCard(cards[nextIndex]);setNextIndex(function(currentIndex){return currentIndex+1;});handleFlip();}else{var response=window.confirm(\"Restart cards\\n\\n\\nClick 'cancel' to return to home page.\");response?reset():history.push(\"/\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(NavBar,{linkName:deck.name,link:\"/decks/\".concat(deck.id),pageName:\"Study\"})}),/*#__PURE__*/_jsxs(\"h2\",{children:[deck.name,\": Study\"]}),count<3||!count?/*#__PURE__*/_jsx(NeedMoreCards,{name:deck.name,id:deck.id,cards:count}):/*#__PURE__*/_jsx(Card,{card:card,count:count,index:nextIndex,flipped:flipped,flip:handleFlip,next:handleNext})]});}","map":{"version":3,"sources":["C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/src/Deck/Study.js"],"names":["React","useEffect","useState","useHistory","useParams","NavBar","readDeck","Card","NeedMoreCards","Study","deck","setDeck","count","setCount","cards","setCards","card","setCard","nextIndex","setNextIndex","flipped","setFlipped","deckId","history","abortCon","AbortController","getDeck","signal","gotDeck","length","abort","reset","handleFlip","handleNext","currentIndex","response","window","confirm","push","name","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport NavBar from \"../Layout/NavBar\";\r\nimport { readDeck } from \"../utils/api\";\r\nimport Card from \"../Cards/Card\";\r\nimport NeedMoreCards from \"../Cards/NeedMoreCards\";\r\n\r\nexport default function Study() {\r\n  const [deck, setDeck] = useState({});\r\n  const [count, setCount] = useState(0);\r\n  const [cards, setCards] = useState([]);\r\n  const [card, setCard] = useState({});\r\n  const [nextIndex, setNextIndex] = useState(1);\r\n  const [flipped, setFlipped] = useState(false);\r\n\r\n  const { deckId } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const abortCon = new AbortController();\r\n    async function getDeck() {\r\n      try {\r\n        if (deckId) {\r\n          const gotDeck = await readDeck(deckId, abortCon.signal);\r\n          setDeck({ ...gotDeck });\r\n          setCount(gotDeck.cards.length);\r\n          setCards([...gotDeck.cards]);\r\n          setCard({ ...gotDeck.cards[0] });\r\n        }\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    }\r\n    getDeck();\r\n    return () => abortCon.abort();\r\n  }, [deckId]);\r\n\r\n  const reset = () => {\r\n    setCard(cards[0]);\r\n    setNextIndex(1);\r\n    handleFlip();\r\n  };\r\n\r\n  const handleFlip = () => {\r\n    setFlipped(!flipped);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (nextIndex < cards.length) {\r\n      setCard(cards[nextIndex]);\r\n      setNextIndex((currentIndex) => currentIndex + 1);\r\n      handleFlip();\r\n    } else {\r\n      const response = window.confirm(\r\n        \"Restart cards\\n\\n\\nClick 'cancel' to return to home page.\"\r\n      );\r\n      response ? reset() : history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex\">\r\n        <NavBar\r\n          linkName={deck.name}\r\n          link={`/decks/${deck.id}`}\r\n          pageName={\"Study\"}\r\n        />\r\n      </div>\r\n      <h2>{deck.name}: Study</h2>\r\n      {count < 3 || !count ? (\r\n        <NeedMoreCards name={deck.name} id={deck.id} cards={count} />\r\n      ) : (\r\n        <Card\r\n          card={card}\r\n          count={count}\r\n          index={nextIndex}\r\n          flipped={flipped}\r\n          flip={handleFlip}\r\n          next={handleNext}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}