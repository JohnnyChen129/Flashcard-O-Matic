{"ast":null,"code":"import _objectSpread from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\sainw\\\\OneDrive\\\\Desktop\\\\completed Project march card o matic\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{Link,useHistory,useParams,useRouteMatch}from\"react-router-dom\";import{readDeck,deleteDeck}from\"../utils/api\";import NavBar from\"../Layout/NavBar\";import CardList from\"../Cards/CardList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Deck(){var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];useEffect(function(){var abortCon=new AbortController();function getDeck(){return _getDeck.apply(this,arguments);}function _getDeck(){_getDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var gotDeck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!deckId){_context.next=6;break;}_context.next=4;return readDeck(deckId,abortCon.signal);case 4:gotDeck=_context.sent;setDeck(_objectSpread({},gotDeck));case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);throw _context.t0;case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _getDeck.apply(this,arguments);}getDeck();return function(){return abortCon.abort();};},[deckId]);function handleDelete(_x){return _handleDelete.apply(this,arguments);}function _handleDelete(){_handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var result,abortCon;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;result=window.confirm(\"Delete this deck?\\n\\n\\nYou will not be able to recover it.\");if(!result){_context2.next=7;break;}abortCon=new AbortController();_context2.next=6;return deleteDeck(id,abortCon.signal);case 6:history.push(\"/\");case 7:_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return _handleDelete.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{pageName:deck.name}),!deck.id?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading deck...\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h2\",{children:deck.name}),/*#__PURE__*/_jsx(\"p\",{children:deck.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-item\",children:[/*#__PURE__*/_jsxs(Link,{className:\"btn btn-secondary mr-2\",to:\"/decks/\".concat(deck.id,\"/edit\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pencil\"}),\" Edit\"]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-primary  mr-2\",to:\"/decks/\".concat(deck.id,\"/study\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-book mr-1\"}),\" Study\"]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-primary\",to:\"\".concat(url,\"/cards/new\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-plus\"}),\" Add Cards\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-1\",type:\"button\",onClick:function onClick(){return handleDelete(deck.id);},children:\"Delete\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cards\"}),/*#__PURE__*/_jsx(CardList,{cards:deck.cards})]})]})]});}","map":{"version":3,"sources":["C:/Users/sainw/OneDrive/Desktop/completed Project march card o matic/src/Deck/ViewDeck.js"],"names":["React","useState","useEffect","Link","useHistory","useParams","useRouteMatch","readDeck","deleteDeck","NavBar","CardList","Deck","deckId","history","url","deck","setDeck","abortCon","AbortController","getDeck","signal","gotDeck","abort","handleDelete","id","result","window","confirm","push","name","description","cards"],"mappings":"onBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,SAA3B,CAAsCC,aAAtC,KAA2D,kBAA3D,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,cAArC,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,C,6IAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC7B,eAAmBN,SAAS,EAA5B,CAAQO,MAAR,YAAQA,MAAR,CACA,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,mBAAgBE,aAAa,EAA7B,CAAQQ,GAAR,gBAAQA,GAAR,CACA,cAAwBb,QAAQ,CAAC,EAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eAEAd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,eAAJ,EAAjB,CADc,QAECC,CAAAA,OAFD,+HAEd,mKAEQP,MAFR,+CAG4BL,CAAAA,QAAQ,CAACK,MAAD,CAASK,QAAQ,CAACG,MAAlB,CAHpC,QAGYC,OAHZ,eAIML,OAAO,kBAAMK,OAAN,EAAP,CAJN,4KAFc,0CAYdF,OAAO,GACP,MAAO,kBAAMF,CAAAA,QAAQ,CAACK,KAAT,EAAN,EAAP,CACD,CAdQ,CAcN,CAACV,MAAD,CAdM,CAAT,CAN6B,QAsBdW,CAAAA,YAtBc,gJAsB7B,kBAA4BC,EAA5B,2JAEUC,MAFV,CAEmBC,MAAM,CAACC,OAAP,CACb,4DADa,CAFnB,KAKQF,MALR,0BAMYR,QANZ,CAMuB,GAAIC,CAAAA,eAAJ,EANvB,wBAOYV,CAAAA,UAAU,CAACgB,EAAD,CAAKP,QAAQ,CAACG,MAAd,CAPtB,QAQMP,OAAO,CAACe,IAAR,CAAa,GAAb,EARN,mLAtB6B,+CAqC7B,mBACE,wCACE,KAAC,MAAD,EAAQ,QAAQ,CAAEb,IAAI,CAACc,IAAvB,EADF,CAEG,CAACd,IAAI,CAACS,EAAN,cACC,sCACE,uCADF,EADD,cAKC,wCACE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,oBAAKT,IAAI,CAACc,IAAV,EADF,cAEE,mBAAId,IAAI,CAACe,WAAT,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,gCAAf,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,MAAC,IAAD,EACE,SAAS,CAAC,wBADZ,CAEE,EAAE,kBAAYf,IAAI,CAACS,EAAjB,SAFJ,wBAIE,UAAG,SAAS,CAAC,oBAAb,EAJF,WADF,cAOE,MAAC,IAAD,EACE,SAAS,CAAC,uBADZ,CAEE,EAAE,kBAAYT,IAAI,CAACS,EAAjB,UAFJ,wBAIE,UAAG,SAAS,CAAC,uBAAb,EAJF,YAPF,cAaE,MAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,WAAKV,GAAL,cAApC,wBACE,UAAG,SAAS,CAAC,kBAAb,EADF,gBAbF,GADF,cAkBE,YAAK,SAAS,CAAC,WAAf,uBACE,eACG,SAAS,CAAC,qBADb,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAMS,CAAAA,YAAY,CAACR,IAAI,CAACS,EAAN,CAAlB,EAHX,oBADF,EAlBF,GALF,GADF,cAmCE,aAAK,SAAS,CAAC,yBAAf,wBACE,6BADF,cAEE,KAAC,QAAD,EAAU,KAAK,CAAET,IAAI,CAACgB,KAAtB,EAFF,GAnCF,GAPJ,GADF,CAmDD","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory, useParams, useRouteMatch } from \"react-router-dom\";\r\nimport { readDeck, deleteDeck } from \"../utils/api\";\r\nimport NavBar from \"../Layout/NavBar\";\r\nimport CardList from \"../Cards/CardList\";\r\n\r\nexport default function Deck() {\r\n  const { deckId } = useParams();\r\n  const history = useHistory();\r\n  const { url } = useRouteMatch();\r\n  const [deck, setDeck] = useState({});\r\n\r\n  useEffect(() => {\r\n    const abortCon = new AbortController();\r\n    async function getDeck() {\r\n      try {\r\n        if (deckId) {\r\n          const gotDeck = await readDeck(deckId, abortCon.signal);\r\n          setDeck({ ...gotDeck });\r\n        }\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    }\r\n    getDeck();\r\n    return () => abortCon.abort();\r\n  }, [deckId]);\r\n\r\n  async function handleDelete(id) {\r\n    try {\r\n      const result = window.confirm(\r\n        \"Delete this deck?\\n\\n\\nYou will not be able to recover it.\"\r\n      );\r\n      if (result) {\r\n        const abortCon = new AbortController();\r\n        await deleteDeck(id, abortCon.signal);\r\n        history.push(\"/\");\r\n      }\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavBar pageName={deck.name} />\r\n      {!deck.id ? (\r\n        <>\r\n          <h2>Loading deck...</h2>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"d-flex flex-column\">\r\n            <div className=\"d-flex flex-column\">\r\n              <h2>{deck.name}</h2>\r\n              <p>{deck.description}</p>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"flex-item\">\r\n                <Link\r\n                  className=\"btn btn-secondary mr-2\"\r\n                  to={`/decks/${deck.id}/edit`}\r\n                >\r\n                  <i className=\"fa-solid fa-pencil\"></i> Edit\r\n                </Link>\r\n                <Link\r\n                  className=\"btn btn-primary  mr-2\"\r\n                  to={`/decks/${deck.id}/study`}\r\n                >\r\n                  <i className=\"fa-solid fa-book mr-1\"></i> Study\r\n                </Link>\r\n                <Link className=\"btn btn-primary\" to={`${url}/cards/new`}>\r\n                  <i className=\"fa-solid fa-plus\"></i> Add Cards\r\n                </Link>\r\n              </div>\r\n              <div className=\"flex-item\">\r\n                <button\r\n                   className=\"btn btn-danger mx-1\"\r\n                  type=\"button\"\r\n                  onClick={() => handleDelete(deck.id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex flex-column mt-4\">\r\n            <h2>Cards</h2>\r\n            <CardList cards={deck.cards} />\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}