{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sainw\\\\OneDrive\\\\Desktop\\\\Flashcard-App-main (1)\\\\Flashcard-App-main\\\\src\\\\Deck\\\\Study.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport NavBar from \"../Layout/NavBar\";\nimport { readDeck } from \"../utils/api\";\nimport Card from \"../Cards/Card\";\nimport NeedMoreCards from \"../Cards/NeedMoreCards\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Study() {\n  _s();\n\n  const [deck, setDeck] = useState({});\n  const [count, setCount] = useState(0);\n  const [cards, setCards] = useState([]);\n  const [card, setCard] = useState({});\n  const [nextIndex, setNextIndex] = useState(1);\n  const [flipped, setFlipped] = useState(false);\n  const {\n    deckId\n  } = useParams();\n  const history = useHistory();\n  useEffect(() => {\n    const abortCon = new AbortController();\n\n    async function getDeck() {\n      try {\n        if (deckId) {\n          const gotDeck = await readDeck(deckId, abortCon.signal);\n          setDeck({ ...gotDeck\n          });\n          setCount(gotDeck.cards.length);\n          setCards([...gotDeck.cards]);\n          setCard({ ...gotDeck.cards[0]\n          });\n        }\n      } catch (err) {\n        throw err;\n      }\n    }\n\n    getDeck();\n    return () => abortCon.abort();\n  }, [deckId]);\n\n  const reset = () => {\n    setCard(cards[0]);\n    setNextIndex(1);\n    handleFlip();\n  };\n\n  const handleFlip = () => {\n    setFlipped(!flipped);\n  };\n\n  const handleNext = () => {\n    if (nextIndex < cards.length) {\n      setCard(cards[nextIndex]);\n      setNextIndex(currentIndex => currentIndex + 1);\n      handleFlip();\n    } else {\n      const response = window.confirm(\"Restart cards\\n\\n\\nClick 'cancel' to return to home page.\");\n      response ? reset() : history.push(\"/\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: /*#__PURE__*/_jsxDEV(NavBar, {\n        linkName: deck.name,\n        link: `/decks/${deck.id}`,\n        pageName: \"Study\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [deck.name, \": Study\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), count < 3 || !count ? /*#__PURE__*/_jsxDEV(NeedMoreCards, {\n      name: deck.name,\n      id: deck.id,\n      cards: count\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      card: card,\n      count: count,\n      index: nextIndex,\n      flipped: flipped,\n      flip: handleFlip,\n      next: handleNext\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Study, \"juGL+8PlzWjcATchHbgLTRUFOmk=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Study;\n\nvar _c;\n\n$RefreshReg$(_c, \"Study\");","map":{"version":3,"sources":["C:/Users/sainw/OneDrive/Desktop/Flashcard-App-main (1)/Flashcard-App-main/src/Deck/Study.js"],"names":["React","useEffect","useState","useHistory","useParams","NavBar","readDeck","Card","NeedMoreCards","Study","deck","setDeck","count","setCount","cards","setCards","card","setCard","nextIndex","setNextIndex","flipped","setFlipped","deckId","history","abortCon","AbortController","getDeck","gotDeck","signal","length","err","abort","reset","handleFlip","handleNext","currentIndex","response","window","confirm","push","name","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;;;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC9B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,CAAD,CAA1C;AACA,QAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM;AAAEoB,IAAAA;AAAF,MAAalB,SAAS,EAA5B;AACA,QAAMmB,OAAO,GAAGpB,UAAU,EAA1B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMuB,QAAQ,GAAG,IAAIC,eAAJ,EAAjB;;AACA,mBAAeC,OAAf,GAAyB;AACvB,UAAI;AACF,YAAIJ,MAAJ,EAAY;AACV,gBAAMK,OAAO,GAAG,MAAMrB,QAAQ,CAACgB,MAAD,EAASE,QAAQ,CAACI,MAAlB,CAA9B;AACAjB,UAAAA,OAAO,CAAC,EAAE,GAAGgB;AAAL,WAAD,CAAP;AACAd,UAAAA,QAAQ,CAACc,OAAO,CAACb,KAAR,CAAce,MAAf,CAAR;AACAd,UAAAA,QAAQ,CAAC,CAAC,GAAGY,OAAO,CAACb,KAAZ,CAAD,CAAR;AACAG,UAAAA,OAAO,CAAC,EAAE,GAAGU,OAAO,CAACb,KAAR,CAAc,CAAd;AAAL,WAAD,CAAP;AACD;AACF,OARD,CAQE,OAAOgB,GAAP,EAAY;AACZ,cAAMA,GAAN;AACD;AACF;;AACDJ,IAAAA,OAAO;AACP,WAAO,MAAMF,QAAQ,CAACO,KAAT,EAAb;AACD,GAjBQ,EAiBN,CAACT,MAAD,CAjBM,CAAT;;AAmBA,QAAMU,KAAK,GAAG,MAAM;AAClBf,IAAAA,OAAO,CAACH,KAAK,CAAC,CAAD,CAAN,CAAP;AACAK,IAAAA,YAAY,CAAC,CAAD,CAAZ;AACAc,IAAAA,UAAU;AACX,GAJD;;AAMA,QAAMA,UAAU,GAAG,MAAM;AACvBZ,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACD,GAFD;;AAIA,QAAMc,UAAU,GAAG,MAAM;AACvB,QAAIhB,SAAS,GAAGJ,KAAK,CAACe,MAAtB,EAA8B;AAC5BZ,MAAAA,OAAO,CAACH,KAAK,CAACI,SAAD,CAAN,CAAP;AACAC,MAAAA,YAAY,CAAEgB,YAAD,IAAkBA,YAAY,GAAG,CAAlC,CAAZ;AACAF,MAAAA,UAAU;AACX,KAJD,MAIO;AACL,YAAMG,QAAQ,GAAGC,MAAM,CAACC,OAAP,CACf,2DADe,CAAjB;AAGAF,MAAAA,QAAQ,GAAGJ,KAAK,EAAR,GAAaT,OAAO,CAACgB,IAAR,CAAa,GAAb,CAArB;AACD;AACF,GAXD;;AAaA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACE,QAAC,MAAD;AACE,QAAA,QAAQ,EAAE7B,IAAI,CAAC8B,IADjB;AAEE,QAAA,IAAI,EAAG,UAAS9B,IAAI,CAAC+B,EAAG,EAF1B;AAGE,QAAA,QAAQ,EAAE;AAHZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAQE;AAAA,iBAAK/B,IAAI,CAAC8B,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,EASG5B,KAAK,GAAG,CAAR,IAAa,CAACA,KAAd,gBACC,QAAC,aAAD;AAAe,MAAA,IAAI,EAAEF,IAAI,CAAC8B,IAA1B;AAAgC,MAAA,EAAE,EAAE9B,IAAI,CAAC+B,EAAzC;AAA6C,MAAA,KAAK,EAAE7B;AAApD;AAAA;AAAA;AAAA;AAAA,YADD,gBAGC,QAAC,IAAD;AACE,MAAA,IAAI,EAAEI,IADR;AAEE,MAAA,KAAK,EAAEJ,KAFT;AAGE,MAAA,KAAK,EAAEM,SAHT;AAIE,MAAA,OAAO,EAAEE,OAJX;AAKE,MAAA,IAAI,EAAEa,UALR;AAME,MAAA,IAAI,EAAEC;AANR;AAAA;AAAA;AAAA;AAAA,YAZJ;AAAA,kBADF;AAwBD;;GA7EuBzB,K;UAQHL,S,EACHD,U;;;KATMM,K","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport NavBar from \"../Layout/NavBar\";\r\nimport { readDeck } from \"../utils/api\";\r\nimport Card from \"../Cards/Card\";\r\nimport NeedMoreCards from \"../Cards/NeedMoreCards\";\r\n\r\nexport default function Study() {\r\n  const [deck, setDeck] = useState({});\r\n  const [count, setCount] = useState(0);\r\n  const [cards, setCards] = useState([]);\r\n  const [card, setCard] = useState({});\r\n  const [nextIndex, setNextIndex] = useState(1);\r\n  const [flipped, setFlipped] = useState(false);\r\n\r\n  const { deckId } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const abortCon = new AbortController();\r\n    async function getDeck() {\r\n      try {\r\n        if (deckId) {\r\n          const gotDeck = await readDeck(deckId, abortCon.signal);\r\n          setDeck({ ...gotDeck });\r\n          setCount(gotDeck.cards.length);\r\n          setCards([...gotDeck.cards]);\r\n          setCard({ ...gotDeck.cards[0] });\r\n        }\r\n      } catch (err) {\r\n        throw err;\r\n      }\r\n    }\r\n    getDeck();\r\n    return () => abortCon.abort();\r\n  }, [deckId]);\r\n\r\n  const reset = () => {\r\n    setCard(cards[0]);\r\n    setNextIndex(1);\r\n    handleFlip();\r\n  };\r\n\r\n  const handleFlip = () => {\r\n    setFlipped(!flipped);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (nextIndex < cards.length) {\r\n      setCard(cards[nextIndex]);\r\n      setNextIndex((currentIndex) => currentIndex + 1);\r\n      handleFlip();\r\n    } else {\r\n      const response = window.confirm(\r\n        \"Restart cards\\n\\n\\nClick 'cancel' to return to home page.\"\r\n      );\r\n      response ? reset() : history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex\">\r\n        <NavBar\r\n          linkName={deck.name}\r\n          link={`/decks/${deck.id}`}\r\n          pageName={\"Study\"}\r\n        />\r\n      </div>\r\n      <h2>{deck.name}: Study</h2>\r\n      {count < 3 || !count ? (\r\n        <NeedMoreCards name={deck.name} id={deck.id} cards={count} />\r\n      ) : (\r\n        <Card\r\n          card={card}\r\n          count={count}\r\n          index={nextIndex}\r\n          flipped={flipped}\r\n          flip={handleFlip}\r\n          next={handleNext}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}